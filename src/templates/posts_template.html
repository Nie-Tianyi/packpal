<!DOCTYPE html>
<html lang="zh-CN">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>阅读《置身事内》：理解中国经济的底层逻辑 | 极简日志</title>
    <!-- 引入样式（主题可选，这里用默认） -->
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/themes/prism.min.css">
    <!-- 引入核心库 -->
    <script src="https://cdn.jsdelivr.net/npm/prismjs@1.29.0/prism.min.js"></script>
    <!-- 引入Font Awesome（图标支持） -->
    <link href="https://cdn.jsdelivr.net/npm/font-awesome@4.7.0/css/font-awesome.min.css" rel="stylesheet">
    <script defer>
        MathJax = {
            tex: {
                inlineMath: [['$', '$']],
                displayMath: [['$$', '$$']]
            },
            svg: {
                fontCache: 'global'
            }
        };
    </script>
    <script src="https://cdn.jsdelivr.net/npm/mathjax@3/es5/tex-svg.js" defer></script>
    <style>
        /* 基础重置与全局样式 */
        * {
            margin: 0;
            padding: 0;
            box-sizing: border-box;
        }

        body {
            font-family: 'Inter', system-ui, -apple-system, sans-serif;
            background-color: #fafafa;
            color: #2D3748;
            line-height: 1.7;
            padding: 0;
            margin: 0;
        }

        .container {
            max-width: 1200px;
            margin: 0 auto;
            padding: 0 20px;
        }

        /* 顶部导航栏 */
        .navbar {
            background-color: white;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
            padding: 15px 0;
            position: sticky;
            top: 0;
            z-index: 100;
        }

        .navbar-content {
            display: flex;
            justify-content: space-between;
            align-items: center;
        }

        .blog-logo {
            font-size: 1.25rem;
            font-weight: 700;
            color: #2D3748;
            text-decoration: none;
        }

        .back-home {
            display: flex;
            align-items: center;
            color: #4A5568;
            text-decoration: none;
            font-size: 0.95rem;
            transition: color 0.3s ease;
        }

        .back-home:hover {
            color: #2D3748;
        }

        .back-home i {
            margin-right: 8px;
        }

        /* 文章头部信息（标题、元数据） */
        .post-header {
            margin: 40px 0 30px;
            text-align: left;
        }

        .post-meta {
            display: flex;
            align-items: center;
            color: #718096;
            font-size: 0.9rem;
            margin-bottom: 15px;
        }

        .post-meta span {
            display: flex;
            align-items: center;
            margin-right: 20px;
        }

        .post-meta i {
            margin-right: 6px;
        }

        .post-title {
            font-size: 2rem;
            font-weight: 700;
            color: #2D3748;
            margin-bottom: 20px;
            line-height: 1.3;
        }

        .post-cover {
            width: 100%;
            height: 400px;
            object-fit: cover;
            border-radius: 12px;
            margin-bottom: 30px;
            box-shadow: 0 4px 12px rgba(0, 0, 0, 0.08);
        }

        /* 主体内容：目录 + 正文 布局 */
        .post-content-wrapper {
            display: flex;
            gap: 40px;
            margin-bottom: 60px;
        }

        /* 目录样式 */
        .toc-container {
            width: 280px;
            flex-shrink: 0;
            position: sticky;
            top: 90px;
            max-height: calc(100vh - 100px);
            overflow-y: auto;
            padding: 20px;
            background-color: white;
            border-radius: 12px;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }

        .toc-title {
            font-size: 1.1rem;
            font-weight: 600;
            margin-bottom: 15px;
            padding-bottom: 8px;
            border-bottom: 1px solid #e2e8f0;
        }

        .toc-list {
            list-style: none;
        }

        .toc-item {
            margin-bottom: 8px;
        }

        .toc-link {
            display: block;
            padding: 6px 8px;
            color: #4A5568;
            text-decoration: none;
            border-radius: 6px;
            transition: all 0.3s ease;
        }

        /* 目录层级缩进 - 支持H1到H6 */
        .toc-level-1 { /* H1 对应目录项 */
            padding-left: 0;
            font-size: 1rem;
            font-weight: 500;
        }

        .toc-level-2 { /* H2 对应目录项 */
            padding-left: 0;
            font-size: 0.95rem;
        }

        .toc-level-3 { /* H3 对应目录项 */
            padding-left: 15px;
            font-size: 0.9rem;
        }

        .toc-level-4 { /* H4 对应目录项 */
            padding-left: 30px;
            font-size: 0.85rem;
        }

        .toc-level-5 { /* H5 对应目录项 */
            padding-left: 45px;
            font-size: 0.8rem;
        }

        .toc-level-6 { /* H6 对应目录项 */
            padding-left: 60px;
            font-size: 0.75rem;
        }

        /* 目录当前项高亮 */
        .toc-link.active {
            background-color: #f1f5f9;
            color: #2D3748;
            font-weight: 500;
        }

        .toc-link:hover {
            background-color: #f8fafc;
            color: #2D3748;
        }

        /* 正文样式 */
        .post-main {
            flex-grow: 1;
            max-width: 700px;
        }

        main p {
            margin-bottom: 25px;
            font-size: 1.05rem;
            color: #334155;
        }

        /* 文章内标题样式 - 支持H1到H6 */
        main h1{
            font-size: 1.75rem;
            font-weight: 700;
            margin: 50px 0 25px;
            color: #2D3748;
            padding-bottom: 10px;
            border-bottom: 2px solid #e2e8f0;
        }

        main h2 {
            font-size: 1.5rem;
            font-weight: 700;
            margin: 40px 0 20px;
            color: #2D3748;
            padding-bottom: 8px;
            border-bottom: 1px solid #e2e8f0;
        }

        main h3 {
            font-size: 1.25rem;
            font-weight: 600;
            margin: 30px 0 15px;
            color: #2D3748;
        }

        main h4 {
            font-size: 1.1rem;
            font-weight: 600;
            margin: 25px 0 12px;
            color: #2D3748;
        }

        main h5 {
            font-size: 1.05rem;
            font-weight: 600;
            margin: 20px 0 10px;
            color: #2D3748;
        }

        main h6 {
            font-size: 1rem;
            font-weight: 600;
            margin: 15px 0 8px;
            color: #4A5568;
        }

        /* 正文内图片 */
        main img {
            width: 100%;
            height: auto;
            border-radius: 8px;
            margin: 30px 0;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.08);
        }

        /* 引用样式 */
        main blockquote {
            border-left: 4px solid #4A5568;
            padding: 15px 20px;
            margin: 30px 0;
            background-color: #f8fafc;
            border-radius: 0 6px 6px 0;
            color: #4A5568;
            font-style: italic;
        }

        /* 列表样式 */
        main ul {
            margin: 20px 0 20px 20px;
            color: #334155;
        }

        main ul li {
            margin-bottom: 10px;
        }

        /* 底部导航（上一篇/下一篇） */
        .post-nav {
            display: flex;
            justify-content: space-between;
            gap: 20px;
            margin: 60px 0;
            padding: 20px 0;
            border-top: 1px solid #e2e8f0;
            border-bottom: 1px solid #e2e8f0;
        }

        .post-nav-item {
            flex: 1;
            text-decoration: none;
            color: #2D3748;
            transition: color 0.3s ease;
        }

        .post-nav-item:hover {
            color: #4A5568;
        }

        .post-nav-prev {
            text-align: left;
        }

        .post-nav-next {
            text-align: right;
        }

        .post-nav-label {
            font-size: 0.85rem;
            color: #718096;
            margin-bottom: 5px;
        }

        /* 页脚 */
        footer {
            margin: 40px 0 20px;
            padding-top: 20px;
            border-top: 1px solid #e2e8f0;
            text-align: center;
            color: #718096;
            font-size: 0.9rem;
        }

        /* 响应式适配（移动端） */
        @media (max-width: 992px) {
            .post-content-wrapper {
                flex-direction: column;
                gap: 20px;
            }

            .toc-container {
                width: 100%;
                position: static;
                max-height: none;
                overflow-y: visible;
                margin-bottom: 30px;
            }

            .post-main {
                max-width: 100%;
            }

            .post-cover {
                height: 250px;
            }

            .post-title {
                font-size: 1.75rem;
            }
        }

        @media (max-width: 576px) {
            .post-meta {
                flex-direction: column;
                align-items: flex-start;
                gap: 8px;
            }

            .post-meta span {
                margin-right: 0;
            }

            .post-nav {
                flex-direction: column;
                gap: 15px;
            }

            .post-nav-prev, .post-nav-next {
                text-align: left;
            }
        }

        /* 目录滚动条美化 */
        .toc-container::-webkit-scrollbar {
            width: 6px;
        }

        .toc-container::-webkit-scrollbar-track {
            background: #f1f5f9;
            border-radius: 10px;
        }

        .toc-container::-webkit-scrollbar-thumb {
            background: #cbd5e1;
            border-radius: 10px;
        }

        .toc-container::-webkit-scrollbar-thumb:hover {
            background: #94a3b8;
        }

        /* 表格样式 */
        main table {
            width: 100%;
            border-collapse: collapse;
            margin: 30px 0;
            border-radius: 8px;
            overflow: hidden;
            box-shadow: 0 2px 8px rgba(0, 0, 0, 0.05);
        }
        main table th,
        main table td {
            padding: 12px 15px;
            text-align: left;
            border-bottom: 1px solid #e2e8f0;
        }
        main table th {
            background-color: #f7fafc;
            font-weight: 600;
            color: #2d3748;
        }
         main table tr:last-child td {
            border-bottom: none;
        }
        main table tr:hover {
            background-color: #f7fafc;
        }
        /* 响应式表格 */
        @media (max-width: 768px) {
            table .container {
                overflow-x: auto;
            }
            main table {
                min-width: 600px;
            }
        }
    </style>
</head>
<body>
<!-- 顶部导航栏 -->
<nav class="navbar">
    <div class="container navbar-content">
        <a href="index.html" class="blog-logo">极简日志</a>
        <a href="index.html" class="back-home">
            <i class="fa fa-arrow-left"></i>
            返回首页
        </a>
    </div>
</nav>

<div class="container">
    <!-- 文章头部信息 -->
    <header class="post-header">
        <div class="post-meta">
            <span><i class="fa fa-calendar-o"></i> 2024.05.20</span>
            <span><i class="fa fa-clock-o"></i> 阅读时长：12分钟</span>
            <span><i class="fa fa-tag"></i> 经济 · 读书</span>
        </div>
        <!-- 会被替换成<h1 class=post-title>{markdown文件名}</h1> -->
        <PostHeading/>
        <img src="https://picsum.photos/id/180/1200/400" alt="《置身事内》书籍封面" class="post-cover">
    </header>

    <!-- 主体内容：目录 + 正文 -->
    <div class="post-content-wrapper">
        <!-- 自动生成的目录（初始为空，由JS填充） -->
        <aside class="toc-container">
            <h3 class="toc-title">文章目录</h3>
            <ul class="toc-list" id="tocList"></ul>
        </aside>

        <!-- 文章正文 -->
        <main class="post-main" id="postMain">
            <!-- 会被替换成markdown文件内容翻译而来的HTML字符串 -->
            <ContentRoot/>
        </main>
    </div>

    <!-- 底部导航（上一篇/下一篇） -->
    <div class="post-nav">
        <a href="#" class="post-nav-item post-nav-prev">
            <div class="post-nav-label">上一篇</div>
            <div class="post-nav-title">极简生活实践30天：我学会了"给生活做减法"</div>
        </a>
        <a href="#" class="post-nav-item post-nav-next">
            <div class="post-nav-label">下一篇</div>
            <div class="post-nav-title">职场笔记：如何用"目标拆解法"应对复杂工作</div>
        </a>
    </div>

    <!-- 页脚 -->
    <footer>
        <p>&copy; 2024 极简日志 | Minimal Log. 保留所有权利。</p>
    </footer>
</div>

<!-- 核心功能：自动生成目录 + 锚点跳转 + 当前标题高亮 -->
<script>
    // 页面加载完成后执行
    document.addEventListener('DOMContentLoaded', function () {
        // 1. 获取文章内所有标题（H1到H6）
        const postMain = document.getElementById('postMain');
        const headings = postMain.querySelectorAll('h1, h2, h3, h4, h5, h6');
        const tocList = document.getElementById('tocList');

        // 2. 生成目录（如果有标题）
        if (headings.length > 0) {
            headings.forEach(heading => {
                // 给标题添加唯一ID（如果没有ID）
                if (!heading.id) {
                    // 用标题文本生成ID（替换空格为-，转小写）
                    const headingText = heading.textContent.trim().replace(/\s+/g, '-').toLowerCase();
                    heading.id = headingText;
                }

                // 创建目录项（li）和链接（a）
                const tocItem = document.createElement('li');
                const tocLink = document.createElement('a');

                // 设置链接属性
                tocLink.href = `#${heading.id}`;
                tocLink.textContent = heading.textContent;
                tocLink.classList.add('toc-link');

                // 根据标题层级添加对应类（控制缩进和字体大小）
                if (heading.tagName === 'H1') {
                    tocLink.classList.add('toc-level-1');
                } else if (heading.tagName === 'H2') {
                    tocLink.classList.add('toc-level-2');
                } else if (heading.tagName === 'H3') {
                    tocLink.classList.add('toc-level-3');
                } else if (heading.tagName === 'H4') {
                    tocLink.classList.add('toc-level-4');
                } else if (heading.tagName === 'H5') {
                    tocLink.classList.add('toc-level-5');
                } else if (heading.tagName === 'H6') {
                    tocLink.classList.add('toc-level-6');
                }

                // 组装目录项并添加到目录列表
                tocItem.appendChild(tocLink);
                tocList.appendChild(tocItem);

                // 3. 锚点跳转平滑滚动
                tocLink.addEventListener('click', function (e) {
                    e.preventDefault(); // 阻止默认跳转
                    const targetId = this.getAttribute('href').substring(1);
                    const targetHeading = document.getElementById(targetId);

                    // 平滑滚动到标题（距离顶部100px，避免被导航栏遮挡）
                    window.scrollTo({
                        top: targetHeading.offsetTop - 100,
                        behavior: 'smooth'
                    });
                });
            });

            // 4. 监听滚动，高亮当前阅读的标题
            window.addEventListener('scroll', function () {
                // 获取当前滚动位置（加150px，提前高亮）
                const scrollPosition = window.scrollY + 150;

                // 遍历标题，判断当前滚动位置对应的标题
                headings.forEach(heading => {
                    const headingTop = heading.offsetTop;
                    const headingBottom = headingTop + heading.offsetHeight;
                    const tocLink = document.querySelector(`.toc-link[href="#${heading.id}"]`);

                    // 如果当前滚动位置在标题范围内，高亮目录项
                    if (scrollPosition >= headingTop && scrollPosition < headingBottom) {
                        // 移除所有高亮
                        document.querySelectorAll('.toc-link').forEach(link => {
                            link.classList.remove('active');
                        });
                        // 给当前标题的目录项添加高亮
                        if (tocLink) tocLink.classList.add('active');
                    }
                });
            });

            // 初始触发一次滚动事件，确保页面加载时目录高亮正确
            window.dispatchEvent(new Event('scroll'));
        } else {
            // 如果没有标题，显示"暂无目录"
            const noTocItem = document.createElement('li');
            noTocItem.textContent = '暂无目录';
            noTocItem.style.color = '#718096';
            noTocItem.style.padding = '6px 8px';
            tocList.appendChild(noTocItem);
        }
    });
</script>
</body>
</html>

